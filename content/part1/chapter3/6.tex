
许多编程团队会因为代码格式化的争论而分裂，甚至有些友谊会因此破裂。在我的大学时代，我有一个朋友就是因为if语句中空格的使用与一个同学发生了激烈的辩论，以至于有人路过时都要停下来确认是否一切安好。

若您的组织已经制定了代码格式化的标准，应该感到庆幸。您可能不喜欢他们制定的某些标准，但至少不必为此争论。

若组织中没有代码格式化的标准，我建议引入这样的标准。标准化的编码指南确保能团队中的所有开发者遵循相同的命名约定、格式化规则等，这使得代码更加统一且易于理解。

有一些自动化的工具，可以在将代码提交到版本控制系统之前根据特定的规则格式化代码。一些集成开发环境（IDE）内置了这样的工具，可以在保存文件时自动格式化代码。

若团队成员都以自己的方式编写代码，请尽量保持宽容。

一些方式仅仅是个人偏好而已，而其他一些则实际上会使得团队协作变得困难。

\mySubsubsection{3.6.1}{关于花括号对齐的争论}

或许最具争议的要点是放置表示代码块的大括号的位置，大括号的使用有几种风格。本书中，大括号放在引领语句的同一行，类、函数或成员函数除外。这种风格在下面的代码中展示（并且贯穿全书）：

\begin{cpp}
void someFunction()
{
    if (condition()) {
        println("condition was true");
    } else {
        println("condition was false");
    }
}
\end{cpp}

这种风格在节省垂直空间的同时，通过缩进显示代码块。一些开发者可能会辩称，实际编码中保存垂直空间并不重要。下面展示了一个更冗长的风格：

\begin{cpp}
void someFunction()
{
    if (condition())
    {
        println("condition was true");
    }
    else
    {
        println("condition was false");
    }
}
\end{cpp}

有些开发者甚至会这样写代码:

\begin{cpp}
void someFunction()
{
    if (condition())
        {
            println("condition was true");
        }
    else
        {
            println("condition was false");
        }
}
\end{cpp}

另一个争论点是是否在单个语句周围加大括号，例如:

\begin{cpp}
void someFunction()
{
    if (condition())
        println("condition was true");
    else
        println("condition was false");
}
\end{cpp}

显然，我不会推荐任何风格，因为我不想有人给我寄刀片。就我个人而言，我总是使用大括号，即使是对单个语句，这可以避免某些糟糕的 C 风格宏（参见第 11 章），并且在未来添加语句时会更安全。

\begin{myNotic}{NOTE}
选择表示代码块的风格时，重要的考虑因素是，是否能够仅通过查看代码就能清楚地看到哪个代码块属于哪个条件。
\end{myNotic}

\mySubsubsection{3.6.2}{关于空格和括号的讨论}

代码单行的格式化也可能是一个争议的源头。同样，我不会提倡特定的方法，但阅读本书的各位可能会遇到这里展示的几种风格。

本书中，我在关键字后使用空格，在任何操作符前后使用空格，在参数列表或调用中的每个逗号后使用空格，并使用括号来表明运算的顺序：

\begin{cpp}
if (i == 2) {
    j = i + (k / m);
}
\end{cpp}

另一种风格，将 if 关键字视为函数，关键字和左括号之间没有空格。由于 if 语句中没有语义上的相关性，省略了用于表面运算顺序的括号。

\begin{cpp}
if( i == 2 ) {
    j = i + k / m;
}
\end{cpp}

这种差异很微妙，哪种更好取决于读者，但我不能绕过这个问题而不指出 ，因为if不是一个函数。

\mySubsubsection{3.6.3}{空格、制表符和换行符}

使用空格和制表符不仅仅是风格上的偏好。若团队没有就空格和制表符的使用达成一致，当开发者合作工作时，则会有大问题。最明显的是，当 Alice 使用四个空格的制表符缩进代码而 Bob 使用五个空格的制表符时，当他们一起工作在同一个文件上时，谁也无法正确显示代码。更糟糕的问题是，当 Bob 同时格式化代码以使用制表符时，Alice 正在编辑同一代码；许多版本控制系统可能无法合并 Alice 的更改。

大多数，编辑器都有可配置的空格和制表符设置。一些环境甚至可以适应代码的格式，或者总是以空格保存，即使使用 Tab 键进行编写。若有一个灵活的环境，就可以更好的与他人的代码一起工作。只需记住，制表符和空格不同，因为制表符的长度可以是任意的，而空格始终是空格。

最后，并非所有平台都以相同的方式表示行结束。例如，Windows 使用 \verb|\|r\verb|\|n 作为行结束符，而基于 Linux 的平台通常使用 \verb|\|n。若您在公司中使用多个平台，则需要同意使用哪种行结束风格。这里，集成开发环境（IDE）很可能会配置需要的行结束风格，或使用自动化工具自动修复行结束符。

